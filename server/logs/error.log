{"code":"SQLITE_ERROR","level":"error","message":"Daily sales report error: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR","service":"posq-api","stack":"SqliteError: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:39:29","timestamp":"2025-10-03T16:27:37.553Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Daily sales report error: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR","service":"posq-api","stack":"SqliteError: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:39:29","timestamp":"2025-10-03T16:27:37.578Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Daily sales report error: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR","service":"posq-api","stack":"SqliteError: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:39:29","timestamp":"2025-10-03T16:29:02.550Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Daily sales report error: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR","service":"posq-api","stack":"SqliteError: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:39:29","timestamp":"2025-10-03T16:29:02.568Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Daily sales report error: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR","service":"posq-api","stack":"SqliteError: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:39:29","timestamp":"2025-10-03T16:31:07.190Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Daily sales report error: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR","service":"posq-api","stack":"SqliteError: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:39:29","timestamp":"2025-10-03T16:31:07.278Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Table turnover report error: select `tables`.`table_number`, COUNT(*) as total_orders, SUM(total) as total_revenue, AVG(total) as average_order_value, AVG(TIMESTAMPDIFF(MINUTE, created_at, updated_at)) as average_service_time from `orders` left join `tables` on `orders`.`table_id` = `tables`.`id` where `orders`.`status` != 'CANCELLED' and `orders`.`created_at` between '2025-10-03' and '2025-10-03' group by `tables`.`id`, `tables`.`table_number` order by `total_orders` desc - no such column: MINUTE","service":"posq-api","stack":"SqliteError: select `tables`.`table_number`, COUNT(*) as total_orders, SUM(total) as total_revenue, AVG(total) as average_order_value, AVG(TIMESTAMPDIFF(MINUTE, created_at, updated_at)) as average_service_time from `orders` left join `tables` on `orders`.`table_id` = `tables`.`id` where `orders`.`status` != 'CANCELLED' and `orders`.`created_at` between '2025-10-03' and '2025-10-03' group by `tables`.`id`, `tables`.`table_number` order by `total_orders` desc - no such column: MINUTE\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:179:27","timestamp":"2025-10-03T16:31:16.808Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Table turnover report error: select `tables`.`table_number`, COUNT(*) as total_orders, SUM(total) as total_revenue, AVG(total) as average_order_value, AVG(TIMESTAMPDIFF(MINUTE, created_at, updated_at)) as average_service_time from `orders` left join `tables` on `orders`.`table_id` = `tables`.`id` where `orders`.`status` != 'CANCELLED' and `orders`.`created_at` between '2025-10-03' and '2025-10-03' group by `tables`.`id`, `tables`.`table_number` order by `total_orders` desc - no such column: MINUTE","service":"posq-api","stack":"SqliteError: select `tables`.`table_number`, COUNT(*) as total_orders, SUM(total) as total_revenue, AVG(total) as average_order_value, AVG(TIMESTAMPDIFF(MINUTE, created_at, updated_at)) as average_service_time from `orders` left join `tables` on `orders`.`table_id` = `tables`.`id` where `orders`.`status` != 'CANCELLED' and `orders`.`created_at` between '2025-10-03' and '2025-10-03' group by `tables`.`id`, `tables`.`table_number` order by `total_orders` desc - no such column: MINUTE\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:179:27","timestamp":"2025-10-03T16:31:17.747Z"}
{"level":"error","message":"Orders fetch error: select `orders`.*, `tables`.`table_number`, `branches`.`name` as `branch_name` from `orders` left join `tables` on `orders`.`table_id` = `tables`.`id` left join `branches` on `orders`.`branch_id` = `branches`.`id` where `orders`.`branch_id` = '1' and `orders`.`status` = 'CONFIRMED', 'PREPARING', 'READY' order by `orders`.`created_at` desc limit 50 - SQLite3 can only bind numbers, strings, bigints, buffers, and null","service":"posq-api","stack":"TypeError: select `orders`.*, `tables`.`table_number`, `branches`.`name` as `branch_name` from `orders` left join `tables` on `orders`.`table_id` = `tables`.`id` left join `branches` on `orders`.`branch_id` = `branches`.`id` where `orders`.`branch_id` = '1' and `orders`.`status` = 'CONFIRMED', 'PREPARING', 'READY' order by `orders`.`created_at` desc limit 50 - SQLite3 can only bind numbers, strings, bigints, buffers, and null\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:39:40)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\orders.js:177:20","timestamp":"2025-10-03T16:32:22.249Z"}
{"level":"error","message":"Orders fetch error: select `orders`.*, `tables`.`table_number`, `branches`.`name` as `branch_name` from `orders` left join `tables` on `orders`.`table_id` = `tables`.`id` left join `branches` on `orders`.`branch_id` = `branches`.`id` where `orders`.`branch_id` = '1' and `orders`.`status` = 'CONFIRMED', 'PREPARING', 'READY' order by `orders`.`created_at` desc limit 50 - SQLite3 can only bind numbers, strings, bigints, buffers, and null","service":"posq-api","stack":"TypeError: select `orders`.*, `tables`.`table_number`, `branches`.`name` as `branch_name` from `orders` left join `tables` on `orders`.`table_id` = `tables`.`id` left join `branches` on `orders`.`branch_id` = `branches`.`id` where `orders`.`branch_id` = '1' and `orders`.`status` = 'CONFIRMED', 'PREPARING', 'READY' order by `orders`.`created_at` desc limit 50 - SQLite3 can only bind numbers, strings, bigints, buffers, and null\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:39:40)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\orders.js:177:20","timestamp":"2025-10-03T16:32:22.279Z"}
{"level":"error","message":"Tables fetch error: select * from `orders` where `table_id` = 1 and `status` = 'PENDING', 'CONFIRMED', 'PREPARING', 'READY', 'SERVED' order by `created_at` desc limit 1 - SQLite3 can only bind numbers, strings, bigints, buffers, and null","service":"posq-api","stack":"TypeError: select * from `orders` where `table_id` = 1 and `status` = 'PENDING', 'CONFIRMED', 'PREPARING', 'READY', 'SERVED' order by `created_at` desc limit 1 - SQLite3 can only bind numbers, strings, bigints, buffers, and null\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:39:40)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\tables.js:27:27","timestamp":"2025-10-03T16:32:55.189Z"}
{"level":"error","message":"Tables fetch error: select * from `orders` where `table_id` = 1 and `status` = 'PENDING', 'CONFIRMED', 'PREPARING', 'READY', 'SERVED' order by `created_at` desc limit 1 - SQLite3 can only bind numbers, strings, bigints, buffers, and null","service":"posq-api","stack":"TypeError: select * from `orders` where `table_id` = 1 and `status` = 'PENDING', 'CONFIRMED', 'PREPARING', 'READY', 'SERVED' order by `created_at` desc limit 1 - SQLite3 can only bind numbers, strings, bigints, buffers, and null\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:39:40)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\tables.js:27:27","timestamp":"2025-10-03T16:32:55.212Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Table creation error: insert into `tables` (`branch_id`, `capacity`, `is_active`, `location`, `qr_code_url`, `table_number`) values (1, 4, true, 'Vip', 'http://localhost:5173/menu?table=1', '1') - table tables has no column named capacity","service":"posq-api","stack":"SqliteError: insert into `tables` (`branch_id`, `capacity`, `is_active`, `location`, `qr_code_url`, `table_number`) values (1, 4, true, 'Vip', 'http://localhost:5173/menu?table=1', '1') - table tables has no column named capacity\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\tables.js:66:23","timestamp":"2025-10-03T16:33:07.364Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Table creation error: insert into `tables` (`branch_id`, `capacity`, `is_active`, `location`, `qr_code_url`, `table_number`) values (1, 4, true, 'Vip', 'http://localhost:5173/menu?table=1', '1') - table tables has no column named capacity","service":"posq-api","stack":"SqliteError: insert into `tables` (`branch_id`, `capacity`, `is_active`, `location`, `qr_code_url`, `table_number`) values (1, 4, true, 'Vip', 'http://localhost:5173/menu?table=1', '1') - table tables has no column named capacity\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\tables.js:66:23","timestamp":"2025-10-03T16:33:08.688Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Table creation error: insert into `tables` (`branch_id`, `capacity`, `is_active`, `location`, `qr_code_url`, `table_number`) values (1, 4, true, 'Vip', 'http://localhost:5173/menu?table=1', '1') - table tables has no column named capacity","service":"posq-api","stack":"SqliteError: insert into `tables` (`branch_id`, `capacity`, `is_active`, `location`, `qr_code_url`, `table_number`) values (1, 4, true, 'Vip', 'http://localhost:5173/menu?table=1', '1') - table tables has no column named capacity\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\tables.js:66:23","timestamp":"2025-10-03T16:33:14.566Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Daily sales report error: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR","service":"posq-api","stack":"SqliteError: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:39:29","timestamp":"2025-10-03T16:34:46.831Z"}
{"code":"SQLITE_ERROR","level":"error","message":"Daily sales report error: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR","service":"posq-api","stack":"SqliteError: select HOUR(created_at) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by HOUR(created_at) order by `hour` asc - no such function: HOUR\n    at Database.prepare (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\better-sqlite3\\lib\\methods\\wrappers.js:5:21)\n    at Client_BetterSQLite3._query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\dialects\\better-sqlite3\\index.js:35:34)\n    at executeQuery (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\query-executioner.js:37:17)\n    at Client_BetterSQLite3.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\client.js:154:12)\n    at Runner.query (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:141:36)\n    at ensureConnectionCallback (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\internal\\ensure-connection-callback.js:13:17)\n    at Runner.ensureConnection (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:318:20)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Runner.run (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\knex\\lib\\execution\\runner.js:30:19)\n    at async C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\src\\routes\\reports.js:39:29","timestamp":"2025-10-03T16:34:46.898Z"}
{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"Order creation error: insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0013', 'UNPAID', 4.55, 'PENDING', -3, 9.1, 104.64999999999999) - Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))","service":"posq-api","sql":"insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0013', 'UNPAID', 4.55, 'PENDING', -3, 9.1, 104.64999999999999)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))","sqlState":"23000","stack":"Error: insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0013', 'UNPAID', 4.55, 'PENDING', -3, 9.1, 104.64999999999999) - Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))\n    at Packet.asError (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packets\\packet.js:740:17)\n    at Query.execute (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\commands\\command.js:29:26)\n    at Connection.handlePacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:475:34)\n    at PacketParser.onPacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:93:12)\n    at PacketParser.executeStart (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packet_parser.js:75:16)\n    at Socket.<anonymous> (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:100:25)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-10-03T18:52:46.144Z"}
{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"Order creation error: insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0013', 'UNPAID', 4.55, 'PENDING', -3, 9.1, 104.64999999999999) - Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))","service":"posq-api","sql":"insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0013', 'UNPAID', 4.55, 'PENDING', -3, 9.1, 104.64999999999999)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))","sqlState":"23000","stack":"Error: insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0013', 'UNPAID', 4.55, 'PENDING', -3, 9.1, 104.64999999999999) - Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))\n    at Packet.asError (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packets\\packet.js:740:17)\n    at Query.execute (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\commands\\command.js:29:26)\n    at Connection.handlePacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:475:34)\n    at PacketParser.onPacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:93:12)\n    at PacketParser.executeStart (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packet_parser.js:75:16)\n    at Socket.<anonymous> (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:100:25)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-10-03T18:53:30.465Z"}
{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"Order creation error: insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0013', 'UNPAID', 4.55, 'PENDING', -3, 9.1, 104.64999999999999) - Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))","service":"posq-api","sql":"insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0013', 'UNPAID', 4.55, 'PENDING', -3, 9.1, 104.64999999999999)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))","sqlState":"23000","stack":"Error: insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0013', 'UNPAID', 4.55, 'PENDING', -3, 9.1, 104.64999999999999) - Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))\n    at Packet.asError (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packets\\packet.js:740:17)\n    at Query.execute (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\commands\\command.js:29:26)\n    at Connection.handlePacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:475:34)\n    at PacketParser.onPacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:93:12)\n    at PacketParser.executeStart (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packet_parser.js:75:16)\n    at Socket.<anonymous> (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:100:25)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-10-03T18:53:30.937Z"}
{"code":"ER_NO_REFERENCED_ROW_2","errno":1452,"level":"error","message":"Order creation error: insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0014', 'UNPAID', 8.75, 'PENDING', 49, 17.5, 201.25) - Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))","service":"posq-api","sql":"insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0014', 'UNPAID', 8.75, 'PENDING', 49, 17.5, 201.25)","sqlMessage":"Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))","sqlState":"23000","stack":"Error: insert into `orders` (`branch_id`, `customer_name`, `order_code`, `payment_status`, `service_charge`, `status`, `table_id`, `tax`, `total`) values (1, NULL, 'CAS-20251003-0014', 'UNPAID', 8.75, 'PENDING', 49, 17.5, 201.25) - Cannot add or update a child row: a foreign key constraint fails (`resturant`.`orders`, CONSTRAINT `orders_table_id_foreign` FOREIGN KEY (`table_id`) REFERENCES `tables` (`id`))\n    at Packet.asError (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packets\\packet.js:740:17)\n    at Query.execute (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\commands\\command.js:29:26)\n    at Connection.handlePacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:475:34)\n    at PacketParser.onPacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:93:12)\n    at PacketParser.executeStart (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packet_parser.js:75:16)\n    at Socket.<anonymous> (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:100:25)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-10-03T18:55:36.618Z"}
{"code":"ER_SP_DOES_NOT_EXIST","errno":1305,"level":"error","message":"Daily sales report error: select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc - FUNCTION resturant.strftime does not exist","service":"posq-api","sql":"select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc","sqlMessage":"FUNCTION resturant.strftime does not exist","sqlState":"42000","stack":"Error: select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc - FUNCTION resturant.strftime does not exist\n    at Packet.asError (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packets\\packet.js:740:17)\n    at Query.execute (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\commands\\command.js:29:26)\n    at Connection.handlePacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:475:34)\n    at PacketParser.onPacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:93:12)\n    at PacketParser.executeStart (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packet_parser.js:75:16)\n    at Socket.<anonymous> (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:100:25)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-10-03T19:01:05.937Z"}
{"code":"ER_SP_DOES_NOT_EXIST","errno":1305,"level":"error","message":"Daily sales report error: select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc - FUNCTION resturant.strftime does not exist","service":"posq-api","sql":"select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc","sqlMessage":"FUNCTION resturant.strftime does not exist","sqlState":"42000","stack":"Error: select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc - FUNCTION resturant.strftime does not exist\n    at Packet.asError (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packets\\packet.js:740:17)\n    at Query.execute (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\commands\\command.js:29:26)\n    at Connection.handlePacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:475:34)\n    at PacketParser.onPacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:93:12)\n    at PacketParser.executeStart (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packet_parser.js:75:16)\n    at Socket.<anonymous> (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:100:25)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-10-03T19:01:06.135Z"}
{"code":"ER_SP_DOES_NOT_EXIST","errno":1305,"level":"error","message":"Daily sales report error: select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc - FUNCTION resturant.strftime does not exist","service":"posq-api","sql":"select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc","sqlMessage":"FUNCTION resturant.strftime does not exist","sqlState":"42000","stack":"Error: select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc - FUNCTION resturant.strftime does not exist\n    at Packet.asError (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packets\\packet.js:740:17)\n    at Query.execute (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\commands\\command.js:29:26)\n    at Connection.handlePacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:475:34)\n    at PacketParser.onPacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:93:12)\n    at PacketParser.executeStart (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packet_parser.js:75:16)\n    at Socket.<anonymous> (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:100:25)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-10-03T19:01:59.581Z"}
{"code":"ER_SP_DOES_NOT_EXIST","errno":1305,"level":"error","message":"Daily sales report error: select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc - FUNCTION resturant.strftime does not exist","service":"posq-api","sql":"select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc","sqlMessage":"FUNCTION resturant.strftime does not exist","sqlState":"42000","stack":"Error: select CAST(strftime(\"%H\", created_at) AS INTEGER) as hour, count(`id`) as `count`, sum(`total`) as `revenue` from `orders` where DATE(created_at) = '2025-10-03' group by strftime(\"%H\", created_at) order by `hour` asc - FUNCTION resturant.strftime does not exist\n    at Packet.asError (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packets\\packet.js:740:17)\n    at Query.execute (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\commands\\command.js:29:26)\n    at Connection.handlePacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:475:34)\n    at PacketParser.onPacket (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:93:12)\n    at PacketParser.executeStart (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\packet_parser.js:75:16)\n    at Socket.<anonymous> (C:\\Users\\USER\\Downloads\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\sakan-jo-backend-cursor-build-restaurant-pos-and-qr-ordering-system-59f5\\server\\node_modules\\mysql2\\lib\\base\\connection.js:100:25)\n    at Socket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:559:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)\n    at Readable.push (node:internal/streams/readable:390:5)","timestamp":"2025-10-03T19:01:59.626Z"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Failed to fetch employees: select `id`, `username`, `full_name`, `role`, `pin`, `salary`, `phone`, `email`, `hire_date`, `is_active`, `created_at` from `users` order by `created_at` desc - SQLITE_ERROR: no such column: salary","service":"posq-api","stack":"Error: select `id`, `username`, `full_name`, `role`, `pin`, `salary`, `phone`, `email`, `hire_date`, `is_active`, `created_at` from `users` order by `created_at` desc - SQLITE_ERROR: no such column: salary","timestamp":"2025-10-24T01:58:26.287Z"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Failed to fetch employees: select `id`, `username`, `full_name`, `role`, `pin`, `salary`, `phone`, `email`, `hire_date`, `is_active`, `created_at` from `users` order by `created_at` desc - SQLITE_ERROR: no such column: salary","service":"posq-api","stack":"Error: select `id`, `username`, `full_name`, `role`, `pin`, `salary`, `phone`, `email`, `hire_date`, `is_active`, `created_at` from `users` order by `created_at` desc - SQLITE_ERROR: no such column: salary","timestamp":"2025-10-24T01:58:26.491Z"}
{"code":"SQLITE_ERROR","errno":1,"level":"error","message":"Failed to update employee: insert into `audit_logs` (`action`, `entity_id`, `entity_type`, `meta`, `user_id`) values ('UPDATE_EMPLOYEE', '100', 'user', '{\"changes\":{\"username\":\"owner\",\"full_name\":\"Restaurant Owner\",\"role\":\"owner\",\"pin\":\"0000\",\"salary\":\"\",\"phone\":\"+212-600-000000\",\"email\":\"owner@posq.com\",\"hire_date\":\"2025-10-24\",\"is_active\":1,\"password_hash\":\"$2b$12$i1cJCJFsL8R.GvX0S7krQOvoEVCPCoI/yxocRWJS7Hpqs45DwA/Ie\"}}', 1) - SQLITE_ERROR: table audit_logs has no column named entity_id","service":"posq-api","stack":"Error: insert into `audit_logs` (`action`, `entity_id`, `entity_type`, `meta`, `user_id`) values ('UPDATE_EMPLOYEE', '100', 'user', '{\"changes\":{\"username\":\"owner\",\"full_name\":\"Restaurant Owner\",\"role\":\"owner\",\"pin\":\"0000\",\"salary\":\"\",\"phone\":\"+212-600-000000\",\"email\":\"owner@posq.com\",\"hire_date\":\"2025-10-24\",\"is_active\":1,\"password_hash\":\"$2b$12$i1cJCJFsL8R.GvX0S7krQOvoEVCPCoI/yxocRWJS7Hpqs45DwA/Ie\"}}', 1) - SQLITE_ERROR: table audit_logs has no column named entity_id","timestamp":"2025-10-24T14:02:03.190Z"}
